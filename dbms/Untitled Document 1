CREATE TABLE BRANCH(
BRANCH_ID VARCHAR(10) PRIMARY KEY,
BRANCH_NAME VARCHAR(10) NOT NULL,
HOD CHAR(20));

CREATE TABLE STUDENT(
USN VARCHAR(10) PRIMARY KEY,
NAME VARCHAR(15) NOT NULL,
ADDRESS VARCHAR(15) NOT NULL,
BRANCH_ID VARCHAR(10),
SEM INT(10),
FOREIGN KEY (BRANCH_ID) REFERENCES BRANCH (BRANCH_ID));

INSERT INTO STUDENT VALUES('4VP21MC001','VARUN','PUTTUR','B3','2');

CREATE TABLE AUTHOR(
AUTHOR_ID INT(10) PRIMARY KEY,
AUTHOR_NAME CHAR(20),
COUNTRY CHAR(20),
AGE INT(10));

CREATE TABLE BOOK(
BOOK_ID VARCHAR(10) PRIMARY KEY,
BOOK_NAME CHAR(50),
AUTHOR_ID INT(10),
PUBLISHER CHAR(20),
BRANCH_ID VARCHAR(10),
FOREIGN KEY (BRANCH_ID) REFERENCES BRANCH(BRANCH_ID),
 FOREIGN KEY (AUTHOR_ID) REFERENCES AUTHOR(AUTHOR_ID));


CREATE TABLE BORROW(
USN VARCHAR(20),
BOOK_ID VARCHAR(10),
BORROWED_DATE DATE,
PRIMARY KEY(USN,BOOK_ID),
FOREIGN KEY(USN) REFERENCES STUDENT(USN),
FOREIGN KEY(BOOK_ID) REFERENCES BOOK(BOOK_ID)
);

INSERT INTO AUTHOR VALUES('1','Rameez elmasri','Arlinhton','51');
INSERT INTO BRANCH VALUES('B1','MCA','SUDHEER');
INSERT INTO BRANCH VALUES('B2','MBA','MEGHA');
INSERT INTO BRANCH VALUES('B3','CS','SHREYA');
INSERT INTO BRANCH VALUES('B4','BOTANY','SHARANYA');
INSERT INTO BRANCH VALUES('B5','MATHEMATICS','LAVANYA');

INSERT INTO BOOK VALUES('BK5','DTA','1','SRS','B3');




SELECT USN,NAME FROM STUDENT,BRANCH WHERE BRANCH_NAME='MCA';
SELECT USN,NAME FROM STUDENT,BRANCH WHERE STUDENT.BRANCH_ID=BRANCH.BRANCH_ID AND BRANCH_NAME='MCA';


SELECT ALL BRANCH_ID FROM STUDENT;
SELECT ALL BRANCH_ID FROM STUDENT;
SELECT * 
FROM AUTHOR
WHERE COUNTRY LIKE "%nd%";


SELECT * 
FROM AUTHOR
WHERE COUNTRY LIKE "_nd__";

SELECT *
FROM AUTHOR
WHERE AGE BETWEEN 40 AND 50;

1.SELECT USN,NAME
  FROM STUDENT,BRANCH
  WHERE AND BRANCH_NAME="MCA" AND SEM="2" AND STUDENT.BRANCH_ID=BRANCH.BRANCH_ID;

SELECT USN FROM
    -> STUDENT
    -> UNION
    -> SELECT USN FROM BORROW;
    
    SELECT NAME 
    FROM STUDENT
    WHERE STUDENT.USN=BORROW.USN;

INSERT INTO BORROW VALUES('4VP21MC001','','LAVANYA');


SELECT DISTINCT USN,NAME
FROM STUDENT,BORROW WHERE STUDENT.USN=BORROW.USN;


2.SELECT DISTINCT NAME 
  FROM STUDENT,BORROW WHERE STUDENT.USN NOT IN(SELECT USN FROM BORROW);
  
  SELECT NAME
  FROM 
  
      4. SELECT BOOK.AUTHOR_ID,COUNT(*)
     FROM BOOK,AUTHOR 
     WHERE BOOK.AUTHOR_ID=AUTHOR.AUTHOR_ID GROUP BY BOOK.AUTHOR_ID;
     
     
     3.
     SELECT STUDENT.USN,NAME,BRANCH_NAME,BOOK_NAME,AUTHOR_NAME,BOOK_NAME,BORROWED_DATE
     FROM STUDENT,BRANCH,BOOK,BORROW,AUTHOR
     WHERE STUDENT.USN=BORROW.USN
     AND STUDENT.BRANCH_ID=BRANCH.BRANCH_ID
     AND BORROW.BOOK_ID=BOOK.BOOK_ID
     AND BOOK.AUTHOR_ID=AUTHOR.AUTHOR_ID
     AND STUDENT.SEM=2
     AND BRANCH.BRANCH_NAME="MCA";
     
     5.SELECT * FROM STUDENT WHERE USN IN
     (SELECT USN FROM BORROW GROUP BY USN HAVING COUNT(USN)>=1);
     
     6.
       SELECT BOOK_NAME FROM BOOK ORDER BY BOOK_NAME DESC;


